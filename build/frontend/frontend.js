(()=>{"use strict";function t(t="increase",e){const s=document.getElementsByTagName("html")[0];if("reset"===t)return s.style.fontSize="",void window.sessionStorage.removeItem("a11y-buttons-font-size");if("set"===t&&e)return void(s.style.fontSize=e);const n=window.getComputedStyle(s).fontSize,o=n.match(/[\d]*/gm);let i=o.length&&!isNaN(o[0])?Number(o[0]):16;if("increase"===t&&i<=64)i+=4;else{if(!("decrease"===t&&i>=8))return;i-=4}const a=i+(o.length&&!isNaN(o[0])&&n.split(o[0])&&isNaN(n.split(o[0])[1])?n.split(o[0])[1]:"px");s.style.fontSize=a,window.sessionStorage.setItem("a11y-buttons-font-size",a)}function e(){const t=window.a11yButtonSettings?window.a11yButtonSettings.customHighContrastCssFile:"";n(t?(window.a11yButtonSettings?window.a11yButtonSettings.pluginUploadPath:"")+t:(window.a11yButtonSettings?window.a11yButtonSettings.pluginBuildPath:"")+"frontend/high-contrast.css","css");const e=document.getElementsByTagName("html")[0].classList.toggle("a11y-buttons-high-contrast-mode");window.sessionStorage.setItem("a11y-buttons-high-contrast-mode",e)}function s(){n((window.a11yButtonSettings?window.a11yButtonSettings.pluginBuildPath:"")+"frontend/readable-font.css","css");const t=document.getElementsByTagName("html")[0].classList.toggle("a11y-buttons-readable-font-mode");window.sessionStorage.setItem("a11y-buttons-readable-font-mode",t)}function n(t,e){if(!window.a11yButtonSettings||!window.a11yButtonSettings.loadAssetsViaBlockJson)if("js"===e){const e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)}else if("css"===e){const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)}}var o;o=()=>{!function(){const n=window.sessionStorage.getItem("a11y-buttons-font-size");n&&t("set",n),"true"===window.sessionStorage.getItem("a11y-buttons-high-contrast-mode")&&e(),"true"===window.sessionStorage.getItem("a11y-buttons-readable-font-mode")&&s()}(),function(){const n=document.getElementsByClassName("wp-block-a11y-buttons-a11y-button");if(!n||!n.length)return;const o=[];for(const t of n)t.childNodes&&t.childNodes[0]&&"BUTTON"===t.childNodes[0].tagName&&t.childNodes[0].dataset.action&&o.push(t.childNodes[0]);for(const n of o)n.addEventListener("click",()=>{switch(n.dataset.action){case"increase-font-size":t("increase");break;case"decrease-font-size":t("decrease");break;case"reset-font-size":t("reset");break;case"toggle-high-contrast":e();break;case"toggle-readable-font":s()}})}()},/comp|inter|loaded/.test(document.readyState)?o():document.addEventListener("DOMContentLoaded",o,!1)})();